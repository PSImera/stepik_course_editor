# Stepik Course Editor with LLM

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫—É—Ä—Å–æ–≤ Stepik —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–æ–ª—å—à–∏—Ö —è–∑—ã–∫–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π (LLM) —á–µ—Ä–µ–∑ LangChain.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üì• **–°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∫—É—Ä—Å–æ–≤** - –∑–∞–≥—Ä—É–∑–∫–∞ –∫—É—Ä—Å–æ–≤ Stepik –ª–æ–∫–∞–ª—å–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- ü§ñ **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é LLM** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ —É–ª—É—á—à–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —É—Ä–æ–∫–æ–≤
- üß© **–†–∞–±–æ—Ç–∞ —Å —á–∞–Ω–∫–∞–º–∏** - —Ä–∞–∑–±–∏–µ–Ω–∏–µ —É—Ä–æ–∫–æ–≤ –Ω–∞ —á–∞—Å—Ç–∏ –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º (h2, h3) –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
- üíæ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞** - —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —É—Ä–æ–∫–æ–≤ –¥–ª—è —É—á–µ—Ç–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞
- ‚ú® **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞** - —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ —É—Ä–æ–∫–æ–≤
- üîÑ **–ì–∏–±–∫–∏–µ —Ä–µ–∂–∏–º—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏** - –æ—Ç –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏ –¥–æ —Ç–æ—á–µ—á–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

## –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

### 1. –ü–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏–µ —Å —Ä–∞–∑–±–∏–µ–Ω–∏–µ–º –Ω–∞ —á–∞–Ω–∫–∏
–£—Ä–æ–∫ —Ä–∞–∑–±–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —á–∞—Å—Ç–∏ –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º h2 –∏ h3. –ö–∞–∂–¥—ã–π —á–∞–Ω–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ —Å —É—á–µ—Ç–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —É—Ä–æ–∫–æ–≤ –∏ —á–∞—Å—Ç–µ–π —Ç–µ–∫—É—â–µ–≥–æ —à–∞–≥–∞.

### 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ü–µ–ª–∏–∫–æ–º
–í–µ—Å—å —à–∞–≥ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∑–∞ –æ–¥–∏–Ω —Ä–∞–∑ –±–µ–∑ —Ä–∞–∑–±–∏–µ–Ω–∏—è –∏ –±–µ–∑ —É—á–µ—Ç–∞ –∏—Å—Ç–æ—Ä–∏–∏ –∫—É—Ä—Å–∞.

### 3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
–ú–æ–¥–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —à–∞–≥ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–µ—Å—Ç—ã, –≤–æ–ø—Ä–æ—Å—ã, –∑–∞–¥–∞–Ω–∏—è).

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone <repository-url>
cd stepik-course-editor
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python -m venv venv

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
# –ù–∞ Windows:
venv\Scripts\activate

# –ù–∞ macOS/Linux:
source venv/bin/activate
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö Stepik

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π: https://stepik.org/oauth2/applications/
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **Client ID** –∏ **Client Secret**

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example`:

```bash
cp .env.example .env
```

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ `.env` —Ñ–∞–π–ª:

```env
OPENAI_API_KEY = ...
CLIENT_ID = ...
CLIENT_SECRET = ...
```

–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è OpenAI –º–æ–¥–µ–ª–µ–π –ø–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á –Ω–∞ https://platform.openai.com –∏ —Ç–∞–∫ –∂–µ —É–∫–∞–∂–∏—Ç–µ –µ–≥–æ –≤ `.env` —Ñ–∞–π–ª–µ

> –ö–æ–¥ –ø–∏—Å–∞–ª—Å—è –ø–æ–¥ OpenAI. –ù–æ –µ—Å–ª–∏ –æ—á–µ–Ω—å –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –º–æ–¥–µ–ª–∏ (Anthropic, Deepseek –∏–ª–∏ –µ—â—ë —á—Ç–æ-—Ç–æ –¥—Ä—É–≥–æ–µ) –º–æ–∂–Ω–æ –≤ –ø–∞—Ä–µ —Å—Ç—Ä–æ–∫ –ø–æ–¥–ø—Ä–∞–≤–∏—Ç—å –µ–≥–æ. –í —Ñ–∞–π–ª–µ `lessons_editor.py` –ø–æ–º–µ–Ω—è—Ç—å –∏–º–ø–æ—Ä—Ç –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –≤ –∫–ª–∞—Å—Å–µ `ChatOpenAI()` –Ω–∞ –Ω—É–∂–Ω–æ–µ.


### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ò–∑–º–µ–Ω–∏—Ç–µ —Ñ–∏–π–ª `src/config.py`.

–û—Å–Ω–æ–≤–Ω—ã–µ –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
`model_name` –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –Ω–∞–∑—ã–≤–∞–Ω–∏–µ –Ω—É–∂–Ω–æ–π –º–æ–¥–µ–ª–∏
`base_url` –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à —Ö–æ—Å—Ç LLM –µ—Å–ª–∏ –Ω–∞–¥–æ. –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è LM Studio http://localhost:1234/v1
`course_id` –æ—Ç–∫—Ä–æ–π—Ç–µ –∫—É—Ä—Å –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏ –≤ –∞–¥—Ä–µ—Å–µ —É–≤–∏–¥–µ—Ç–µ –µ–≥–æ ID. –ü—Ä–∏–º–µ—Ä -> https://stepik.org/course/123456

–î—Ä—É–≥–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–∂–Ω–æ –Ω–µ –º–µ–Ω—è—Ç—å, –Ω–æ –µ—Å–ª–∏ —á—Ç–æ, —Ç–æ —Ç–∞–º –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö –≤ —Ñ–∞–π–ª–µ –≤—Å—ë –ø–æ–¥–ø–∏—Å–∞–Ω–æ

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–º–ø—Ç–æ–≤

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `prompts.yaml`. –ú–æ–∂–Ω–æ –∑–∞–¥–∞–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –∏ –¥–æ–±–∞–≤–ª—è—Ç—å –∏–º –≤–µ—Ä—Å–∏–∏ v1, v2 –∏ —Ç.–¥. –∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—Å—è –º–µ–∂–¥—É –Ω–∏–º–∏, –ø—Ä–æ—Å—Ç–æ –º–µ–Ω—è—è –≤–µ—Ä—Å–∏—é –≤ –ø–æ–ª–µ `current`:

```yaml
rewrite_lesson:
  current: v1
  v1:
    system: |
      –¢—ã —Ä–µ–¥–∞–∫—Ç–æ—Ä –æ–±—É—á–∞—é—â–∏—Ö –∫—É—Ä—Å–æ–≤ ...
    task: |
      –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –ø–æ –∏–∑–º–µ–Ω–µ–Ω–∏—é —Ç–µ–∫—Å—Ç–∞ —É—Ä–æ–∫–∞ ...

      {lessons_memory}

      –í–û–¢ –§–†–ê–ì–ú–ï–ù–¢ –ö–û–¢–û–†–´–ô –¢–ï–ë–ï –ù–£–ñ–ù–û –ò–ó–ú–ï–ù–ò–¢–¨:
      {lesson}
edit_text:
  current: v1
  v1:
    system: |
      –¢—ã —Ä–µ–¥–∞–∫—Ç–æ—Ä –æ–±—É—á–∞—é—â–∏—Ö –∫—É—Ä—Å–æ–≤ ...
    task: |
      –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –ø–æ –∏–∑–º–µ–Ω–µ–Ω–∏—é —Ç–µ–∫—Å—Ç–∞ —É—Ä–æ–∫–∞ ...

      –í–û–¢ –§–†–ê–ì–ú–ï–ù–¢ –ö–û–¢–û–†–´–ô –¢–ï–ë–ï –ù–£–ñ–ù–û –ò–ó–ú–ï–ù–ò–¢–¨:
      {lesson}
ask_about_text:
  current: v1
  v1:
    system: |
      –¢—ã —Ä–µ–¥–∞–∫—Ç–æ—Ä –æ–±—É—á–∞—é—â–∏—Ö –∫—É—Ä—Å–æ–≤ ...
    task: |
      –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è –ø–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–∞ –ø–æ —É—Ä–æ–∫—É

      –í–û–¢ –¢–ï–ö–°–¢ –£–†–û–ö–ê:
      {lesson}
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–£–¥–æ–±–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–∑ –Ω–æ—É—Ç–±—É–∫–∞ `main.ipynb`, –∑–∞–ø—É—Å–∫–∞—è –Ω—É–∂–Ω—ã–µ —è—á–µ–π–∫–∏, —Å–∫–∞—á–∏–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —É—Ä–æ–∫–∏, –ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏, –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ –Ω–∏–º —Ç–µ—Å—Ç—ã –∏ —Ç.–¥. –í –Ω—ë–º –∂–µ —Ä–∞—Å–ø–∏—Å–∞–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.


## –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ

–£ –º–µ–Ω—è –≤ —ç—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–µ –µ—â—ë –±—ã–ª –ø–æ–¥–∫–ª—é—á–µ–Ω RAG –º–æ–¥—É–ª—å –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ langchain. –Ø –µ–≥–æ —É–±—Ä–∞–ª –∏–∑ —ç—Ç–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, —Ç–∞–∫ –∫–∞–∫ –∑–∞–¥–∞—á–∞ —Å–ª–∏—à–∫–æ–º —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∞—è, –Ω–æ –µ—Å–ª–∏ –≤—ã –ø–æ–Ω–∏–º–∞–µ—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥, —Ç–æ –º–æ–∂–µ—Ç–µ –≤–∑—è—Ç—å –µ–≥–æ –∑–∞ –æ—Å–Ω–æ–≤—É –∏–∑ –¥—Ä—É–≥–æ–≥–æ –º–æ–µ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Å–≤–æ–π RAG –ø–æ–¥ –≤–∞—à–∏ –∑–∞–¥–∞—á–∏.

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.10+
- Jupyter Notebook / JupyterLab
- –ê–∫—Ç–∏–≤–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É (–¥–ª—è Stepik API –∏ OpenAI)
- LMStudio (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π)

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã, —Å–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.